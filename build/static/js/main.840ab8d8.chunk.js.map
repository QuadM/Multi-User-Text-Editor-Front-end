{"version":3,"sources":["modules/TextEditor/Loading_icon.gif","modules/FileSystem/stories-icon.svg","modules/FileSystem/Add.svg","modules/loading/Loading_icon.gif","modules/TextEditor/index.js","modules/FileSystem/contextMenu/useContextMenu.js","modules/FileSystem/contextMenu/menu.js","modules/FileSystem/FileBox.js","modules/FileSystem/NewFile.js","modules/FileSystem/index.js","modules/loading/LoadingNew.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","INTERVAL_IS_ON","TextEditor","_useState","useState","_useState2","Object","slicedToArray","title","setTitle","_useState3","_useState4","quill","setQuill","_useState5","_useState6","socket","setSocket","_useState7","_useState8","socketPasiv","setSocketPasiv","_useState9","_useState10","clientCount","setClientCount","_useState11","_useState12","savedClass","setClass","docID","useParams","id","htmlElement","document","querySelector","useEffect","scrollTop","onScroll","stky","r","scrollHeight","w","window","innerWidth","innerHeight","style","minWidth","backgroundColor","concat","console","log","addEventListener","passive","removeEventListener","saveDocIntervalHandler","saveInterval","setInterval","obj","value","quillContents","getContents","emit","clearInterval","on","clientNo","wrapperRef","useCallback","wrapper","progrss","createElement","editor","appendChild","overflow","position","className","zIndex","top","left","height","q","Quill","theme","qEditor","getElementsByClassName","loadingImg","setAttribute","img","append","disable","changeHandler","delta","oldDelta","source","off","count","updateContents","s","io","psv","disconnect","once","_ref","doc","clientno","setContents","enable","_ref2","react_default","a","color","padding","borderRadius","float","type","onChange","e","val","target","ref","useContextMenu","outerRef","xPos","setXPos","yPos","setYPos","menu","showMenu","handleContextMenu","event","current","contains","preventDefault","pageX","pageY","handleClick","Menu","handleDelete","_useContextMenu","handleRename","onClick","Fragment","FileBox","file","docURI","_id","fileref","useRef","href","src","alt","length","slice","contextMenu_menu","NewFile","cursor","MyFileSystem","files","setFiles","fils","f","map","FileSystem_FileBox","key","confirm","filter","react_router_dom","to","FileSystem_NewFile","LoadingNew","Flag","setFlag","URI","setURI","navigate","useNavigate","d","interval","replace","background","margin","App","react_router","path","element","FileSystem","loading_LoadingNew","exact","modules_TextEditor","reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.840ab8d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Loading_icon.f4404720.gif\";","module.exports = __webpack_public_path__ + \"static/media/stories-icon.d8b06b1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/Add.535808ca.svg\";","module.exports = __webpack_public_path__ + \"static/media/Loading_icon.f4404720.gif\";","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Quill from \"quill\";\r\nimport { io } from \"socket.io-client\";\r\nimport \"./style.css\";\r\nimport img from \"./Loading_icon.gif\";\r\n\r\nconst HOST_URL = \"https://quadm-text-editor-backend.herokuapp.com/\";\r\nconst PASIV_HOST_URL = \"https://quadm-text-editor-backend-1.herokuapp.com/\";\r\n// const HOST_URL = \"http://localhost:3001\";\r\n// const PASIV_HOST_URL = \"http://localhost:4000\";\r\n\r\nconst SAVE_INTERVEL = 3000;\r\nlet INTERVAL_IS_ON = false;\r\n\r\nconst TextEditor = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [quill, setQuill] = useState(null);\r\n  const [socket, setSocket] = useState(null);\r\n  const [socketPasiv, setSocketPasiv] = useState(null);\r\n  const [clientCount, setClientCount] = useState(0);\r\n  const [savedClass, setClass] = useState(\"\");\r\n  const { id: docID } = useParams();\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  const htmlElement = document.querySelector(\"html\");\r\n\r\n  useEffect(() => {\r\n    htmlElement.scrollTop = 0;\r\n    const onScroll = () => {\r\n      const stky = document.querySelector(\".stky\");\r\n      let r = htmlElement.scrollTop / htmlElement.scrollHeight;\r\n      let w = r * (window.innerWidth + window.innerHeight) + \"px\";\r\n      stky.style.minWidth = w;\r\n      stky.style.backgroundColor = `rgba(221,121,192,${r + 0.5})`;\r\n      console.log(\r\n        \"lol\",\r\n        htmlElement.style.backgroundColor,\r\n        htmlElement.scrollTop,\r\n        htmlElement.scrollHeight,\r\n        w,\r\n        stky\r\n      );\r\n    };\r\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\r\n    return () => window.removeEventListener(\"scroll\", onScroll);\r\n  }, [htmlElement]);\r\n\r\n  const getT = () => document.querySelector(\"#title\").value;\r\n  const getQuillContent = () => {\r\n    return quill.getContents();\r\n  };\r\n\r\n  const saveDocIntervalHandler = () => {\r\n    if (!INTERVAL_IS_ON) {\r\n      INTERVAL_IS_ON = true;\r\n      setClass(\"hidden\");\r\n      let saveInterval = setInterval(() => {\r\n        const obj = {\r\n          title: getT(),\r\n          quillContents: getQuillContent(),\r\n        };\r\n        INTERVAL_IS_ON = false;\r\n        socket.emit(\"save-doc\", obj);\r\n        socketPasiv.emit(\"save-doc\", obj);\r\n        console.log(obj);\r\n        setClass(\"\");\r\n        clearInterval(saveInterval);\r\n      }, SAVE_INTERVEL);\r\n    }\r\n  };\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  useEffect(() => {\r\n    socket &&\r\n      socket.on(\"client-number\", (clientNo) => {\r\n        setClientCount(clientNo);\r\n      });\r\n  }, [socket]);\r\n  useEffect(() => {\r\n    socketPasiv &&\r\n      socketPasiv.on(\"client-number\", (clientNo) => {\r\n        setClientCount(clientNo);\r\n      });\r\n  }, [socketPasiv]);\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //                making a quill object and append it to a div using ref                    //\r\n  const wrapperRef = useCallback((wrapper) => {\r\n    const progrss = document.createElement(\"div\");\r\n\r\n    const editor = document.createElement(\"div\");\r\n    if (wrapper) {\r\n      wrapper.appendChild(editor);\r\n      document.querySelector(\"body\").style.overflow = \"visible\";\r\n      document.querySelector(\"body\").appendChild(progrss);\r\n\r\n      progrss.style.position = \"fixed\";\r\n      progrss.className = \"stky\";\r\n      progrss.style.zIndex = 3;\r\n      progrss.style.top = \"0px\";\r\n      progrss.style.left = \"0px\";\r\n      progrss.style.height = \"5px\";\r\n\r\n      const q = new Quill(editor, { theme: \"snow\" });\r\n      const qEditor = document.getElementsByClassName(\"ql-editor\")[0];\r\n      const loadingImg = document.createElement(\"img\");\r\n      loadingImg.setAttribute(\"src\", img);\r\n\r\n      loadingImg.style = `width:100%;`;\r\n      qEditor.append(loadingImg);\r\n      q.disable();\r\n      setQuill(q);\r\n    }\r\n  }, []);\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //          Sending changes of quill editor & title to server throught the socket           //\r\n  useEffect(() => {\r\n    if (socket === null || quill === null) return;\r\n    else {\r\n      const changeHandler = (delta, oldDelta, source) => {\r\n        if (source !== \"user\") return;\r\n\r\n        socket.emit(\"make-text-changes\", {\r\n          docID,\r\n          quillContents: quill.getContents(),\r\n          delta,\r\n        });\r\n        socketPasiv.emit(\"make-text-changes\", {\r\n          docID,\r\n          quillContents: quill.getContents(),\r\n          delta,\r\n        });\r\n        saveDocIntervalHandler();\r\n      };\r\n\r\n      quill.on(\"text-change\", changeHandler);\r\n      return () => {\r\n        quill.off(\"text-change\", changeHandler);\r\n      };\r\n    }\r\n  }, [quill, socket, docID]);\r\n\r\n  //-----------------------//\r\n\r\n  const handleTitleChange = (val) => {\r\n    console.log(\"handle title change val :\", val);\r\n    socket.emit(\"make-title-changes\", val);\r\n    socketPasiv.emit(\"make-title-changes\", val);\r\n    saveDocIntervalHandler();\r\n  };\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //            receiving changes of quill & Title from server throught the socket            //\r\n  useEffect(() => {\r\n    if (!quill || !socket) return;\r\n    socket.on(\"receive-text-changes\", (delta) => {\r\n      quill.updateContents(delta);\r\n    });\r\n    socketPasiv.on(\"receive-text-changes\", (delta) => {\r\n      quill.updateContents(delta);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"receive-text-changes\");\r\n      socketPasiv.off(\"receive-text-changes\");\r\n    };\r\n  }, [socket, quill]);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    socket.on(\"receive-title-changes\", (delta) => {\r\n      setTitle(delta);\r\n      console.log(\"receive title changes delta :\", delta);\r\n    });\r\n    socketPasiv.on(\"receive-title-changes\", (delta) => {\r\n      setTitle(delta);\r\n      console.log(\"receive title changes delta :\", delta);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"receive-title-changes\");\r\n      socketPasiv.off(\"receive-title-changes\");\r\n    };\r\n  }, [socket, title]);\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //                            opening new socket on HOST_URL                                //\r\n  useEffect(() => {\r\n    const s = io(HOST_URL);\r\n    setSocket(s);\r\n    const psv = io(PASIV_HOST_URL);\r\n    setSocketPasiv(psv);\r\n    return () => {\r\n      s.disconnect();\r\n      psv.disconnect();\r\n    };\r\n  }, []);\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //                          Auto save after interval (2000 ms)                              //\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  //------------------------------------------------------------------------------------------//\r\n  //                    Opening a room for a single document using its ID                     //\r\n  let count;\r\n  useEffect(() => {\r\n    if (!socket || !quill || clientCount || count) return;\r\n    !clientCount &&\r\n      socket.once(\"load-doc\", ({ doc, clientno }) => {\r\n        count = clientno;\r\n        console.log(doc);\r\n        setTitle(doc.title);\r\n        setClientCount(clientno);\r\n        quill.setContents(doc.quillContents);\r\n        quill.enable();\r\n      });\r\n\r\n    socket.emit(\"get-doc\", docID);\r\n  }, [socket, quill, docID, clientCount]);\r\n\r\n  useEffect(() => {\r\n    setInterval(() => {\r\n      if (!socketPasiv || !quill || clientCount || count) return;\r\n      socketPasiv.once(\"load-doc\", ({ doc, clientno }) => {\r\n        count = clientno;\r\n        console.log(doc);\r\n        setTitle(doc.title);\r\n        setClientCount(clientno);\r\n        quill.setContents(doc.quillContents);\r\n        quill.enable();\r\n      });\r\n      socketPasiv.emit(\"get-doc\", docID);\r\n    }, 2000);\r\n  }, [socketPasiv, quill, docID, clientCount]);\r\n  //------------------------------------------------------------------------------------------//\r\n\r\n  return (\r\n    <div style={{ overflow: \"visible\" }}>\r\n      <span\r\n        style={{\r\n          color: \"white\",\r\n          backgroundColor: \"rgba(100,100,255,0.8)\",\r\n          padding: \"1px 0.5em 4px\",\r\n          borderRadius: \"20px\",\r\n          float: \"left\",\r\n          position: \"sticky\",\r\n          top: \"20px\",\r\n        }}\r\n        className={savedClass}\r\n      >\r\n        Saved\r\n      </span>\r\n      <span\r\n        style={{\r\n          position: \"sticky\",\r\n          float: \"right\",\r\n          color: \"white\",\r\n          backgroundColor: \"rgba(255,100,100,0.8)\",\r\n          padding: \"1px 0.5em 4px\",\r\n          borderRadius: \"20px\",\r\n          top: \"20px\",\r\n        }}\r\n      >\r\n        {clientCount} Online\r\n      </span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"title\"\r\n        value={title}\r\n        id=\"title\"\r\n        onChange={(e) => {\r\n          handleTitleChange(e.target.value);\r\n          setTitle(e.target.value);\r\n        }}\r\n      />\r\n      <div ref={wrapperRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n","import { useEffect, useCallback, useState } from \"react\";\r\n\r\nconst useContextMenu = (outerRef) => {\r\n  const [xPos, setXPos] = useState(\"0px\");\r\n  const [yPos, setYPos] = useState(\"0px\");\r\n  const [menu, showMenu] = useState(false);\r\n\r\n  const handleContextMenu = useCallback(\r\n    (event) => {\r\n      if (outerRef && outerRef.current.contains(event.target)) {\r\n        event.preventDefault();\r\n        setXPos(`${event.pageX}px`);\r\n        setYPos(`${event.pageY}px`);\r\n        showMenu(true);\r\n      } else {\r\n        showMenu(false);\r\n      }\r\n    },\r\n    [showMenu, outerRef, setXPos, setYPos]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    showMenu(false);\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    document.addEventListener(\"contextmenu\", handleContextMenu);\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClick);\r\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\r\n    };\r\n  }, [handleClick, handleContextMenu]);\r\n\r\n  return { xPos, yPos, menu };\r\n};\r\n\r\nexport default useContextMenu;\r\n","import React from \"react\";\r\nimport useContextMenu from \"./useContextMenu\";\r\n\r\nconst Menu = ({ outerRef, handleDelete, handleRename }) => {\r\n  const { xPos, yPos, menu } = useContextMenu(outerRef);\r\n\r\n  if (menu) {\r\n    return (\r\n      <div\r\n        className=\"contextMenu contextMenuItemRed\"\r\n        style={{ top: yPos, left: xPos }}\r\n      >\r\n        <div className=\"contextMenuItem \" onClick={() => handleDelete()}>\r\n          Delete\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return <></>;\r\n};\r\n\r\nexport default Menu;\r\n","import React, { useRef } from \"react\";\r\nimport Menu from \"./contextMenu/menu\";\r\nimport img from \"./stories-icon.svg\";\r\nimport \"./style.css\";\r\n\r\nconst FileBox = ({ file, handleDelete, handleRename }) => {\r\n  const docURI = `/document/${file._id}`;\r\n  const fileref = useRef(null);\r\n\r\n  return (\r\n    <div ref={fileref}>\r\n      <a className=\"fileContainer filebox\" href={docURI}>\r\n        <div className=\"fileimg\">\r\n          <img src={img} alt=\"fileimg\" />\r\n        </div>\r\n        <p>\r\n          {file.title.length > 10\r\n            ? file.title.slice(0, 10) + \"...\"\r\n            : file.title}\r\n        </p>\r\n      </a>\r\n\r\n      <Menu\r\n        outerRef={fileref}\r\n        style={{ zIndex: 1 }}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileBox;\r\n","import React from \"react\";\r\nimport img from \"./Add.svg\";\r\n\r\nconst NewFile = () => {\r\n  // const docURI = `/document/new`;\r\n  return (\r\n    <div className=\"fileContainer filebox\" style={{ cursor: \"pointer\" }}>\r\n      <div className=\"fileimg\">\r\n        <img src={img} alt=\"fileimg\" />\r\n      </div>\r\n      <p>New File</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewFile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport FileBox from \"./FileBox.js\";\r\nimport NewFile from \"./NewFile.js\";\r\nimport { io } from \"socket.io-client\";\r\nimport { Link } from \"react-router-dom\";\r\n// import LoadingNew from \"./../loading/LoadingNew\";\r\n\r\nconst HOST_URL = \"https://quadm-text-editor-backend.herokuapp.com/\";\r\nconst PASIV_HOST_URL = \"https://quadm-text-editor-backend-1.herokuapp.com/\";\r\n// const HOST_URL = \"http://localhost:3001\";\r\n// const PASIV_HOST_URL = \"http://localhost:4000\";\r\n\r\nconst MyFileSystem = () => {\r\n  const [files, setFiles] = useState();\r\n  const [socket, setSocket] = useState();\r\n  const [socketPasiv, setSocketPasiv] = useState();\r\n  const URI = \"/document/new\";\r\n\r\n  const handleDelete = (file) => {\r\n    if (window.confirm(`Are you sure to delete ${file.title} document?`)) {\r\n      console.log(\"successfully deleted document, id: \", file._id);\r\n      setFiles(files.filter((f) => f._id !== file._id));\r\n      socket.emit(\"delete-doc\", file._id);\r\n    } else return;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const s = io(HOST_URL);\r\n    const psv = io(PASIV_HOST_URL);\r\n    setSocket(s);\r\n    setSocketPasiv(psv);\r\n    s.emit(\"get-all-docs\");\r\n    psv.emit(\"get-all-docs\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let fils;\r\n    socket &&\r\n      socket.on(\"recieve-all-docs\", (f) => {\r\n        console.log(\"here in active\");\r\n        fils = true;\r\n        console.log(f);\r\n        setFiles(f);\r\n      });\r\n\r\n    if (!fils)\r\n      socketPasiv &&\r\n        socketPasiv.on(\"recieve-all-docs\", (f) => {\r\n          console.log(f);\r\n          console.log(\"here in pasive\");\r\n          setFiles(f);\r\n          fils = f;\r\n        });\r\n  }, [socket, files, socketPasiv]);\r\n\r\n  useEffect(() => {\r\n    if (!files) {\r\n      socket && socket.emit(\"get-all-docs\");\r\n      socketPasiv && socketPasiv.emit(\"get-all-docs\");\r\n    }\r\n  }, [files, socket, socketPasiv]);\r\n\r\n  return (\r\n    <div className=\"fileSystem\">\r\n      <>\r\n        {files &&\r\n          files.map((f) => (\r\n            <FileBox\r\n              file={f}\r\n              key={f._id}\r\n              handleDelete={() => handleDelete(f)}\r\n            />\r\n          ))}\r\n        <Link to={URI}>\r\n          <NewFile />\r\n        </Link>\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyFileSystem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport img from \"./Loading_icon.gif\";\r\n\r\nconst HOST_URL = \"https://quadm-text-editor-backend.herokuapp.com/\";\r\nconst PASIV_HOST_URL = \"https://quadm-text-editor-backend-1.herokuapp.com/\";\r\n// const HOST_URL = \"http://localhost:3001\";\r\n// const PASIV_HOST_URL = \"http://localhost:4000\";\r\n\r\nconst LoadingNew = () => {\r\n  const [Flag, setFlag] = useState(false);\r\n  const [socket, setSocket] = useState();\r\n  const [socketPasiv, setSocketPasiv] = useState();\r\n  const [URI, setURI] = useState();\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    let s = io(HOST_URL);\r\n    setSocket(s);\r\n    let psv = io(PASIV_HOST_URL);\r\n    setSocketPasiv(psv);\r\n    s &&\r\n      s.on(\"created-new-doc\", (d) => {\r\n        setURI(\"/document/\" + d._id);\r\n      });\r\n    psv &&\r\n      psv.on(\"created-new-doc\", (d) => {\r\n        setURI(\"/document/\" + d._id);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket && socket.emit(\"create-new-doc\");\r\n    const interval = setInterval(() => {\r\n      setFlag(true);\r\n      console.log(\"interval 5ls w flag b :\", Flag);\r\n      clearInterval(interval);\r\n    }, 5000);\r\n  }, [socket]);\r\n\r\n  useEffect(() => URI && navigate(URI, { replace: true }), [URI]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"interval 5ls w flag b :\", Flag);\r\n    Flag && socketPasiv.emit(\"create-new-doc\");\r\n  }, [Flag, socketPasiv]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ background: \"white\", padding: \"2em\", margin: \"auto\" }}>\r\n        <h1> Creating File </h1>\r\n        <img src={img} alt=\"loading img\" />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadingNew;\r\n","import \"quill/dist/quill.snow.css\";\nimport \"./App.css\";\nimport React from \"react\";\n// import { gapi } from \"gapi-script\";\n// import GoogleLogin , GoogleLogout from \"react-google-login\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport TextEditor from \"./modules/TextEditor/index\";\nimport MyFileSystem from \"./modules/FileSystem\";\nimport LoadingNew from \"./modules/loading/LoadingNew\";\n// import { GoogleLogout, GoogleLogin } from \"react-google-login\";\n\n// const clientId =\n//   \"745989885530-ijpjtu3p5g3j24h8vhihu9mdp1buqajc.apps.googleusercontent.com\";\n\nfunction App() {\n  // const handleSucess = (res) => console.log(\"sucess:\", res);\n  // const handleFailure = (res) => console.error(\"failure:\", res);\n  // useEffect(() => {\n  //   function start() {\n  //     gapi.client.init({\n  //       clientId: clientId,\n  //       scope: \"\",\n  //     });\n  //   }\n  //   gapi.load(\"client:auth2\", start);\n  // }, []);\n  return (\n    <div className=\"App\">\n      <Router>\n        <Routes>\n          <Route path=\"/\" element={<MyFileSystem />} />\n          <Route path=\"/document/new\" element={<LoadingNew />} exact></Route>\n          <Route path=\"/document/:id\" element={<TextEditor />}></Route>\n        </Routes>\n      </Router>\n      {/* <span\n        style={{\n          borderRaduis: \"20px\",\n          width: \"2em\",\n          height: \"20px\",\n          backgroundColor: \"red\",\n          overflow: \"hidden\",\n        }}\n      >\n        <GoogleLogin\n          clientId={clientId}\n          onSuccess={handleSucess}\n          onFailure={handleFailure}\n          cookiePolicy=\"single_host_origin\"\n        />\n      </span>\n      <GoogleLogout /> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}